var $r=Object.defineProperty,zr=Object.defineProperties;var Hr=Object.getOwnPropertyDescriptors;var He=Object.getOwnPropertySymbols;var Wr=Object.prototype.hasOwnProperty,jr=Object.prototype.propertyIsEnumerable;var We=(n,r,o)=>r in n?$r(n,r,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[r]=o,je=(n,r)=>{for(var o in r||(r={}))Wr.call(r,o)&&We(n,o,r[o]);if(He)for(var o of He(r))jr.call(r,o)&&We(n,o,r[o]);return n},Ge=(n,r)=>zr(n,Hr(r));import{a as Gr,i as Kr,b as kt,G as be,n as qr,c as et,s as U,u as T,d as ce,f as rt,g as Qt,h as w,j as Ue,t as ar,l as J,k as te,m as ot,o as b,p as D,q as Vr,r as p,w as B,x as I,y as he,z as It,A as ur,B as ht,C as ct,D as ne,F as oe,H as Xr,I as Jr,J as Yr,E as Zr}from"./index.ae4fb4c2.js";var q={};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(n){const r=Gr,o=Kr,a=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;n.Buffer=h,n.SlowBuffer=Nt,n.INSPECT_MAX_BYTES=50;const u=2147483647;n.kMaxLength=u,h.TYPED_ARRAY_SUPPORT=c(),!h.TYPED_ARRAY_SUPPORT&&typeof console!="undefined"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const i=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(i,t),i.foo()===42}catch{return!1}}Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(!!h.isBuffer(this))return this.byteOffset}});function y(i){if(i>u)throw new RangeError('The value "'+i+'" is invalid for option "size"');const t=new Uint8Array(i);return Object.setPrototypeOf(t,h.prototype),t}function h(i,t,e){if(typeof i=="number"){if(typeof t=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(i)}return g(i,t,e)}h.poolSize=8192;function g(i,t,e){if(typeof i=="string")return L(i,t);if(ArrayBuffer.isView(i))return N(i);if(i==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i);if(bt(i,ArrayBuffer)||i&&bt(i.buffer,ArrayBuffer)||typeof SharedArrayBuffer!="undefined"&&(bt(i,SharedArrayBuffer)||i&&bt(i.buffer,SharedArrayBuffer)))return it(i,t,e);if(typeof i=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const s=i.valueOf&&i.valueOf();if(s!=null&&s!==i)return h.from(s,t,e);const f=dt(i);if(f)return f;if(typeof Symbol!="undefined"&&Symbol.toPrimitive!=null&&typeof i[Symbol.toPrimitive]=="function")return h.from(i[Symbol.toPrimitive]("string"),t,e);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof i)}h.from=function(i,t,e){return g(i,t,e)},Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array);function E(i){if(typeof i!="number")throw new TypeError('"size" argument must be of type number');if(i<0)throw new RangeError('The value "'+i+'" is invalid for option "size"')}function A(i,t,e){return E(i),i<=0?y(i):t!==void 0?typeof e=="string"?y(i).fill(t,e):y(i).fill(t):y(i)}h.alloc=function(i,t,e){return A(i,t,e)};function _(i){return E(i),y(i<0?0:pt(i)|0)}h.allocUnsafe=function(i){return _(i)},h.allocUnsafeSlow=function(i){return _(i)};function L(i,t){if((typeof t!="string"||t==="")&&(t="utf8"),!h.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const e=Rt(i,t)|0;let s=y(e);const f=s.write(i,t);return f!==e&&(s=s.slice(0,f)),s}function k(i){const t=i.length<0?0:pt(i.length)|0,e=y(t);for(let s=0;s<t;s+=1)e[s]=i[s]&255;return e}function N(i){if(bt(i,Uint8Array)){const t=new Uint8Array(i);return it(t.buffer,t.byteOffset,t.byteLength)}return k(i)}function it(i,t,e){if(t<0||i.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(i.byteLength<t+(e||0))throw new RangeError('"length" is outside of buffer bounds');let s;return t===void 0&&e===void 0?s=new Uint8Array(i):e===void 0?s=new Uint8Array(i,t):s=new Uint8Array(i,t,e),Object.setPrototypeOf(s,h.prototype),s}function dt(i){if(h.isBuffer(i)){const t=pt(i.length)|0,e=y(t);return e.length===0||i.copy(e,0,0,t),e}if(i.length!==void 0)return typeof i.length!="number"||ye(i.length)?y(0):k(i);if(i.type==="Buffer"&&Array.isArray(i.data))return k(i.data)}function pt(i){if(i>=u)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+u.toString(16)+" bytes");return i|0}function Nt(i){return+i!=i&&(i=0),h.alloc(+i)}h.isBuffer=function(t){return t!=null&&t._isBuffer===!0&&t!==h.prototype},h.compare=function(t,e){if(bt(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),bt(e,Uint8Array)&&(e=h.from(e,e.offset,e.byteLength)),!h.isBuffer(t)||!h.isBuffer(e))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(t===e)return 0;let s=t.length,f=e.length;for(let l=0,x=Math.min(s,f);l<x;++l)if(t[l]!==e[l]){s=t[l],f=e[l];break}return s<f?-1:f<s?1:0},h.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(t,e){if(!Array.isArray(t))throw new TypeError('"list" argument must be an Array of Buffers');if(t.length===0)return h.alloc(0);let s;if(e===void 0)for(e=0,s=0;s<t.length;++s)e+=t[s].length;const f=h.allocUnsafe(e);let l=0;for(s=0;s<t.length;++s){let x=t[s];if(bt(x,Uint8Array))l+x.length>f.length?(h.isBuffer(x)||(x=h.from(x)),x.copy(f,l)):Uint8Array.prototype.set.call(f,x,l);else if(h.isBuffer(x))x.copy(f,l);else throw new TypeError('"list" argument must be an Array of Buffers');l+=x.length}return f};function Rt(i,t){if(h.isBuffer(i))return i.length;if(ArrayBuffer.isView(i)||bt(i,ArrayBuffer))return i.byteLength;if(typeof i!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof i);const e=i.length,s=arguments.length>2&&arguments[2]===!0;if(!s&&e===0)return 0;let f=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return e;case"utf8":case"utf-8":return xe(i).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return e*2;case"hex":return e>>>1;case"base64":return ze(i).length;default:if(f)return s?-1:xe(i).length;t=(""+t).toLowerCase(),f=!0}}h.byteLength=Rt;function st(i,t,e){let s=!1;if((t===void 0||t<0)&&(t=0),t>this.length||((e===void 0||e>this.length)&&(e=this.length),e<=0)||(e>>>=0,t>>>=0,e<=t))return"";for(i||(i="utf8");;)switch(i){case"hex":return O(this,t,e);case"utf8":case"utf-8":return d(this,t,e);case"ascii":return K(this,t,e);case"latin1":case"binary":return W(this,t,e);case"base64":return Ut(this,t,e);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return $t(this,t,e);default:if(s)throw new TypeError("Unknown encoding: "+i);i=(i+"").toLowerCase(),s=!0}}h.prototype._isBuffer=!0;function Y(i,t,e){const s=i[t];i[t]=i[e],i[e]=s}h.prototype.swap16=function(){const t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let e=0;e<t;e+=2)Y(this,e,e+1);return this},h.prototype.swap32=function(){const t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let e=0;e<t;e+=4)Y(this,e,e+3),Y(this,e+1,e+2);return this},h.prototype.swap64=function(){const t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let e=0;e<t;e+=8)Y(this,e,e+7),Y(this,e+1,e+6),Y(this,e+2,e+5),Y(this,e+3,e+4);return this},h.prototype.toString=function(){const t=this.length;return t===0?"":arguments.length===0?d(this,0,t):st.apply(this,arguments)},h.prototype.toLocaleString=h.prototype.toString,h.prototype.equals=function(t){if(!h.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:h.compare(this,t)===0},h.prototype.inspect=function(){let t="";const e=n.INSPECT_MAX_BYTES;return t=this.toString("hex",0,e).replace(/(.{2})/g,"$1 ").trim(),this.length>e&&(t+=" ... "),"<Buffer "+t+">"},a&&(h.prototype[a]=h.prototype.inspect),h.prototype.compare=function(t,e,s,f,l){if(bt(t,Uint8Array)&&(t=h.from(t,t.offset,t.byteLength)),!h.isBuffer(t))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof t);if(e===void 0&&(e=0),s===void 0&&(s=t?t.length:0),f===void 0&&(f=0),l===void 0&&(l=this.length),e<0||s>t.length||f<0||l>this.length)throw new RangeError("out of range index");if(f>=l&&e>=s)return 0;if(f>=l)return-1;if(e>=s)return 1;if(e>>>=0,s>>>=0,f>>>=0,l>>>=0,this===t)return 0;let x=l-f,S=s-e;const j=Math.min(x,S),z=this.slice(f,l),G=t.slice(e,s);for(let C=0;C<j;++C)if(z[C]!==G[C]){x=z[C],S=G[C];break}return x<S?-1:S<x?1:0};function xt(i,t,e,s,f){if(i.length===0)return-1;if(typeof e=="string"?(s=e,e=0):e>2147483647?e=2147483647:e<-2147483648&&(e=-2147483648),e=+e,ye(e)&&(e=f?0:i.length-1),e<0&&(e=i.length+e),e>=i.length){if(f)return-1;e=i.length-1}else if(e<0)if(f)e=0;else return-1;if(typeof t=="string"&&(t=h.from(t,s)),h.isBuffer(t))return t.length===0?-1:yt(i,t,e,s,f);if(typeof t=="number")return t=t&255,typeof Uint8Array.prototype.indexOf=="function"?f?Uint8Array.prototype.indexOf.call(i,t,e):Uint8Array.prototype.lastIndexOf.call(i,t,e):yt(i,[t],e,s,f);throw new TypeError("val must be string, number or Buffer")}function yt(i,t,e,s,f){let l=1,x=i.length,S=t.length;if(s!==void 0&&(s=String(s).toLowerCase(),s==="ucs2"||s==="ucs-2"||s==="utf16le"||s==="utf-16le")){if(i.length<2||t.length<2)return-1;l=2,x/=2,S/=2,e/=2}function j(G,C){return l===1?G[C]:G.readUInt16BE(C*l)}let z;if(f){let G=-1;for(z=e;z<x;z++)if(j(i,z)===j(t,G===-1?0:z-G)){if(G===-1&&(G=z),z-G+1===S)return G*l}else G!==-1&&(z-=z-G),G=-1}else for(e+S>x&&(e=x-S),z=e;z>=0;z--){let G=!0;for(let C=0;C<S;C++)if(j(i,z+C)!==j(t,C)){G=!1;break}if(G)return z}return-1}h.prototype.includes=function(t,e,s){return this.indexOf(t,e,s)!==-1},h.prototype.indexOf=function(t,e,s){return xt(this,t,e,s,!0)},h.prototype.lastIndexOf=function(t,e,s){return xt(this,t,e,s,!1)};function Q(i,t,e,s){e=Number(e)||0;const f=i.length-e;s?(s=Number(s),s>f&&(s=f)):s=f;const l=t.length;s>l/2&&(s=l/2);let x;for(x=0;x<s;++x){const S=parseInt(t.substr(x*2,2),16);if(ye(S))return x;i[e+x]=S}return x}function Ct(i,t,e,s){return re(xe(t,i.length-e),i,e,s)}function Mt(i,t,e,s){return re(Dr(t),i,e,s)}function tt(i,t,e,s){return re(ze(t),i,e,s)}function Lt(i,t,e,s){return re(Cr(t,i.length-e),i,e,s)}h.prototype.write=function(t,e,s,f){if(e===void 0)f="utf8",s=this.length,e=0;else if(s===void 0&&typeof e=="string")f=e,s=this.length,e=0;else if(isFinite(e))e=e>>>0,isFinite(s)?(s=s>>>0,f===void 0&&(f="utf8")):(f=s,s=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const l=this.length-e;if((s===void 0||s>l)&&(s=l),t.length>0&&(s<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");f||(f="utf8");let x=!1;for(;;)switch(f){case"hex":return Q(this,t,e,s);case"utf8":case"utf-8":return Ct(this,t,e,s);case"ascii":case"latin1":case"binary":return Mt(this,t,e,s);case"base64":return tt(this,t,e,s);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Lt(this,t,e,s);default:if(x)throw new TypeError("Unknown encoding: "+f);f=(""+f).toLowerCase(),x=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ut(i,t,e){return t===0&&e===i.length?r.fromByteArray(i):r.fromByteArray(i.slice(t,e))}function d(i,t,e){e=Math.min(i.length,e);const s=[];let f=t;for(;f<e;){const l=i[f];let x=null,S=l>239?4:l>223?3:l>191?2:1;if(f+S<=e){let j,z,G,C;switch(S){case 1:l<128&&(x=l);break;case 2:j=i[f+1],(j&192)===128&&(C=(l&31)<<6|j&63,C>127&&(x=C));break;case 3:j=i[f+1],z=i[f+2],(j&192)===128&&(z&192)===128&&(C=(l&15)<<12|(j&63)<<6|z&63,C>2047&&(C<55296||C>57343)&&(x=C));break;case 4:j=i[f+1],z=i[f+2],G=i[f+3],(j&192)===128&&(z&192)===128&&(G&192)===128&&(C=(l&15)<<18|(j&63)<<12|(z&63)<<6|G&63,C>65535&&C<1114112&&(x=C))}}x===null?(x=65533,S=1):x>65535&&(x-=65536,s.push(x>>>10&1023|55296),x=56320|x&1023),s.push(x),f+=S}return v(s)}const m=4096;function v(i){const t=i.length;if(t<=m)return String.fromCharCode.apply(String,i);let e="",s=0;for(;s<t;)e+=String.fromCharCode.apply(String,i.slice(s,s+=m));return e}function K(i,t,e){let s="";e=Math.min(i.length,e);for(let f=t;f<e;++f)s+=String.fromCharCode(i[f]&127);return s}function W(i,t,e){let s="";e=Math.min(i.length,e);for(let f=t;f<e;++f)s+=String.fromCharCode(i[f]);return s}function O(i,t,e){const s=i.length;(!t||t<0)&&(t=0),(!e||e<0||e>s)&&(e=s);let f="";for(let l=t;l<e;++l)f+=Mr[i[l]];return f}function $t(i,t,e){const s=i.slice(t,e);let f="";for(let l=0;l<s.length-1;l+=2)f+=String.fromCharCode(s[l]+s[l+1]*256);return f}h.prototype.slice=function(t,e){const s=this.length;t=~~t,e=e===void 0?s:~~e,t<0?(t+=s,t<0&&(t=0)):t>s&&(t=s),e<0?(e+=s,e<0&&(e=0)):e>s&&(e=s),e<t&&(e=t);const f=this.subarray(t,e);return Object.setPrototypeOf(f,h.prototype),f};function $(i,t,e){if(i%1!==0||i<0)throw new RangeError("offset is not uint");if(i+t>e)throw new RangeError("Trying to access beyond buffer length")}h.prototype.readUintLE=h.prototype.readUIntLE=function(t,e,s){t=t>>>0,e=e>>>0,s||$(t,e,this.length);let f=this[t],l=1,x=0;for(;++x<e&&(l*=256);)f+=this[t+x]*l;return f},h.prototype.readUintBE=h.prototype.readUIntBE=function(t,e,s){t=t>>>0,e=e>>>0,s||$(t,e,this.length);let f=this[t+--e],l=1;for(;e>0&&(l*=256);)f+=this[t+--e]*l;return f},h.prototype.readUint8=h.prototype.readUInt8=function(t,e){return t=t>>>0,e||$(t,1,this.length),this[t]},h.prototype.readUint16LE=h.prototype.readUInt16LE=function(t,e){return t=t>>>0,e||$(t,2,this.length),this[t]|this[t+1]<<8},h.prototype.readUint16BE=h.prototype.readUInt16BE=function(t,e){return t=t>>>0,e||$(t,2,this.length),this[t]<<8|this[t+1]},h.prototype.readUint32LE=h.prototype.readUInt32LE=function(t,e){return t=t>>>0,e||$(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+this[t+3]*16777216},h.prototype.readUint32BE=h.prototype.readUInt32BE=function(t,e){return t=t>>>0,e||$(t,4,this.length),this[t]*16777216+(this[t+1]<<16|this[t+2]<<8|this[t+3])},h.prototype.readBigUInt64LE=Tt(function(t){t=t>>>0,Ht(t,"offset");const e=this[t],s=this[t+7];(e===void 0||s===void 0)&&Xt(t,this.length-8);const f=e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24,l=this[++t]+this[++t]*2**8+this[++t]*2**16+s*2**24;return BigInt(f)+(BigInt(l)<<BigInt(32))}),h.prototype.readBigUInt64BE=Tt(function(t){t=t>>>0,Ht(t,"offset");const e=this[t],s=this[t+7];(e===void 0||s===void 0)&&Xt(t,this.length-8);const f=e*2**24+this[++t]*2**16+this[++t]*2**8+this[++t],l=this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+s;return(BigInt(f)<<BigInt(32))+BigInt(l)}),h.prototype.readIntLE=function(t,e,s){t=t>>>0,e=e>>>0,s||$(t,e,this.length);let f=this[t],l=1,x=0;for(;++x<e&&(l*=256);)f+=this[t+x]*l;return l*=128,f>=l&&(f-=Math.pow(2,8*e)),f},h.prototype.readIntBE=function(t,e,s){t=t>>>0,e=e>>>0,s||$(t,e,this.length);let f=e,l=1,x=this[t+--f];for(;f>0&&(l*=256);)x+=this[t+--f]*l;return l*=128,x>=l&&(x-=Math.pow(2,8*e)),x},h.prototype.readInt8=function(t,e){return t=t>>>0,e||$(t,1,this.length),this[t]&128?(255-this[t]+1)*-1:this[t]},h.prototype.readInt16LE=function(t,e){t=t>>>0,e||$(t,2,this.length);const s=this[t]|this[t+1]<<8;return s&32768?s|4294901760:s},h.prototype.readInt16BE=function(t,e){t=t>>>0,e||$(t,2,this.length);const s=this[t+1]|this[t]<<8;return s&32768?s|4294901760:s},h.prototype.readInt32LE=function(t,e){return t=t>>>0,e||$(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},h.prototype.readInt32BE=function(t,e){return t=t>>>0,e||$(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},h.prototype.readBigInt64LE=Tt(function(t){t=t>>>0,Ht(t,"offset");const e=this[t],s=this[t+7];(e===void 0||s===void 0)&&Xt(t,this.length-8);const f=this[t+4]+this[t+5]*2**8+this[t+6]*2**16+(s<<24);return(BigInt(f)<<BigInt(32))+BigInt(e+this[++t]*2**8+this[++t]*2**16+this[++t]*2**24)}),h.prototype.readBigInt64BE=Tt(function(t){t=t>>>0,Ht(t,"offset");const e=this[t],s=this[t+7];(e===void 0||s===void 0)&&Xt(t,this.length-8);const f=(e<<24)+this[++t]*2**16+this[++t]*2**8+this[++t];return(BigInt(f)<<BigInt(32))+BigInt(this[++t]*2**24+this[++t]*2**16+this[++t]*2**8+s)}),h.prototype.readFloatLE=function(t,e){return t=t>>>0,e||$(t,4,this.length),o.read(this,t,!0,23,4)},h.prototype.readFloatBE=function(t,e){return t=t>>>0,e||$(t,4,this.length),o.read(this,t,!1,23,4)},h.prototype.readDoubleLE=function(t,e){return t=t>>>0,e||$(t,8,this.length),o.read(this,t,!0,52,8)},h.prototype.readDoubleBE=function(t,e){return t=t>>>0,e||$(t,8,this.length),o.read(this,t,!1,52,8)};function X(i,t,e,s,f,l){if(!h.isBuffer(i))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>f||t<l)throw new RangeError('"value" argument is out of bounds');if(e+s>i.length)throw new RangeError("Index out of range")}h.prototype.writeUintLE=h.prototype.writeUIntLE=function(t,e,s,f){if(t=+t,e=e>>>0,s=s>>>0,!f){const S=Math.pow(2,8*s)-1;X(this,t,e,s,S,0)}let l=1,x=0;for(this[e]=t&255;++x<s&&(l*=256);)this[e+x]=t/l&255;return e+s},h.prototype.writeUintBE=h.prototype.writeUIntBE=function(t,e,s,f){if(t=+t,e=e>>>0,s=s>>>0,!f){const S=Math.pow(2,8*s)-1;X(this,t,e,s,S,0)}let l=s-1,x=1;for(this[e+l]=t&255;--l>=0&&(x*=256);)this[e+l]=t/x&255;return e+s},h.prototype.writeUint8=h.prototype.writeUInt8=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,1,255,0),this[e]=t&255,e+1},h.prototype.writeUint16LE=h.prototype.writeUInt16LE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,2,65535,0),this[e]=t&255,this[e+1]=t>>>8,e+2},h.prototype.writeUint16BE=h.prototype.writeUInt16BE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,2,65535,0),this[e]=t>>>8,this[e+1]=t&255,e+2},h.prototype.writeUint32LE=h.prototype.writeUInt32LE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,4,4294967295,0),this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=t&255,e+4},h.prototype.writeUint32BE=h.prototype.writeUInt32BE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,4,4294967295,0),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4};function ke(i,t,e,s,f){$e(t,s,f,i,e,7);let l=Number(t&BigInt(4294967295));i[e++]=l,l=l>>8,i[e++]=l,l=l>>8,i[e++]=l,l=l>>8,i[e++]=l;let x=Number(t>>BigInt(32)&BigInt(4294967295));return i[e++]=x,x=x>>8,i[e++]=x,x=x>>8,i[e++]=x,x=x>>8,i[e++]=x,e}function Oe(i,t,e,s,f){$e(t,s,f,i,e,7);let l=Number(t&BigInt(4294967295));i[e+7]=l,l=l>>8,i[e+6]=l,l=l>>8,i[e+5]=l,l=l>>8,i[e+4]=l;let x=Number(t>>BigInt(32)&BigInt(4294967295));return i[e+3]=x,x=x>>8,i[e+2]=x,x=x>>8,i[e+1]=x,x=x>>8,i[e]=x,e+8}h.prototype.writeBigUInt64LE=Tt(function(t,e=0){return ke(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeBigUInt64BE=Tt(function(t,e=0){return Oe(this,t,e,BigInt(0),BigInt("0xffffffffffffffff"))}),h.prototype.writeIntLE=function(t,e,s,f){if(t=+t,e=e>>>0,!f){const j=Math.pow(2,8*s-1);X(this,t,e,s,j-1,-j)}let l=0,x=1,S=0;for(this[e]=t&255;++l<s&&(x*=256);)t<0&&S===0&&this[e+l-1]!==0&&(S=1),this[e+l]=(t/x>>0)-S&255;return e+s},h.prototype.writeIntBE=function(t,e,s,f){if(t=+t,e=e>>>0,!f){const j=Math.pow(2,8*s-1);X(this,t,e,s,j-1,-j)}let l=s-1,x=1,S=0;for(this[e+l]=t&255;--l>=0&&(x*=256);)t<0&&S===0&&this[e+l+1]!==0&&(S=1),this[e+l]=(t/x>>0)-S&255;return e+s},h.prototype.writeInt8=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,1,127,-128),t<0&&(t=255+t+1),this[e]=t&255,e+1},h.prototype.writeInt16LE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,2,32767,-32768),this[e]=t&255,this[e+1]=t>>>8,e+2},h.prototype.writeInt16BE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,2,32767,-32768),this[e]=t>>>8,this[e+1]=t&255,e+2},h.prototype.writeInt32LE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,4,2147483647,-2147483648),this[e]=t&255,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24,e+4},h.prototype.writeInt32BE=function(t,e,s){return t=+t,e=e>>>0,s||X(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=t&255,e+4},h.prototype.writeBigInt64LE=Tt(function(t,e=0){return ke(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),h.prototype.writeBigInt64BE=Tt(function(t,e=0){return Oe(this,t,e,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function De(i,t,e,s,f,l){if(e+s>i.length)throw new RangeError("Index out of range");if(e<0)throw new RangeError("Index out of range")}function Ce(i,t,e,s,f){return t=+t,e=e>>>0,f||De(i,t,e,4),o.write(i,t,e,s,23,4),e+4}h.prototype.writeFloatLE=function(t,e,s){return Ce(this,t,e,!0,s)},h.prototype.writeFloatBE=function(t,e,s){return Ce(this,t,e,!1,s)};function Me(i,t,e,s,f){return t=+t,e=e>>>0,f||De(i,t,e,8),o.write(i,t,e,s,52,8),e+8}h.prototype.writeDoubleLE=function(t,e,s){return Me(this,t,e,!0,s)},h.prototype.writeDoubleBE=function(t,e,s){return Me(this,t,e,!1,s)},h.prototype.copy=function(t,e,s,f){if(!h.isBuffer(t))throw new TypeError("argument should be a Buffer");if(s||(s=0),!f&&f!==0&&(f=this.length),e>=t.length&&(e=t.length),e||(e=0),f>0&&f<s&&(f=s),f===s||t.length===0||this.length===0)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(s<0||s>=this.length)throw new RangeError("Index out of range");if(f<0)throw new RangeError("sourceEnd out of bounds");f>this.length&&(f=this.length),t.length-e<f-s&&(f=t.length-e+s);const l=f-s;return this===t&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(e,s,f):Uint8Array.prototype.set.call(t,this.subarray(s,f),e),l},h.prototype.fill=function(t,e,s,f){if(typeof t=="string"){if(typeof e=="string"?(f=e,e=0,s=this.length):typeof s=="string"&&(f=s,s=this.length),f!==void 0&&typeof f!="string")throw new TypeError("encoding must be a string");if(typeof f=="string"&&!h.isEncoding(f))throw new TypeError("Unknown encoding: "+f);if(t.length===1){const x=t.charCodeAt(0);(f==="utf8"&&x<128||f==="latin1")&&(t=x)}}else typeof t=="number"?t=t&255:typeof t=="boolean"&&(t=Number(t));if(e<0||this.length<e||this.length<s)throw new RangeError("Out of range index");if(s<=e)return this;e=e>>>0,s=s===void 0?this.length:s>>>0,t||(t=0);let l;if(typeof t=="number")for(l=e;l<s;++l)this[l]=t;else{const x=h.isBuffer(t)?t:h.from(t,f),S=x.length;if(S===0)throw new TypeError('The value "'+t+'" is invalid for argument "value"');for(l=0;l<s-e;++l)this[l+e]=x[l%S]}return this};const zt={};function pe(i,t,e){zt[i]=class extends e{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${i}]`,this.stack,delete this.name}get code(){return i}set code(f){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:f,writable:!0})}toString(){return`${this.name} [${i}]: ${this.message}`}}}pe("ERR_BUFFER_OUT_OF_BOUNDS",function(i){return i?`${i} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),pe("ERR_INVALID_ARG_TYPE",function(i,t){return`The "${i}" argument must be of type number. Received type ${typeof t}`},TypeError),pe("ERR_OUT_OF_RANGE",function(i,t,e){let s=`The value of "${i}" is out of range.`,f=e;return Number.isInteger(e)&&Math.abs(e)>2**32?f=Le(String(e)):typeof e=="bigint"&&(f=String(e),(e>BigInt(2)**BigInt(32)||e<-(BigInt(2)**BigInt(32)))&&(f=Le(f)),f+="n"),s+=` It must be ${t}. Received ${f}`,s},RangeError);function Le(i){let t="",e=i.length;const s=i[0]==="-"?1:0;for(;e>=s+4;e-=3)t=`_${i.slice(e-3,e)}${t}`;return`${i.slice(0,e)}${t}`}function Pr(i,t,e){Ht(t,"offset"),(i[t]===void 0||i[t+e]===void 0)&&Xt(t,i.length-(e+1))}function $e(i,t,e,s,f,l){if(i>e||i<t){const x=typeof t=="bigint"?"n":"";let S;throw l>3?t===0||t===BigInt(0)?S=`>= 0${x} and < 2${x} ** ${(l+1)*8}${x}`:S=`>= -(2${x} ** ${(l+1)*8-1}${x}) and < 2 ** ${(l+1)*8-1}${x}`:S=`>= ${t}${x} and <= ${e}${x}`,new zt.ERR_OUT_OF_RANGE("value",S,i)}Pr(s,f,l)}function Ht(i,t){if(typeof i!="number")throw new zt.ERR_INVALID_ARG_TYPE(t,"number",i)}function Xt(i,t,e){throw Math.floor(i)!==i?(Ht(i,e),new zt.ERR_OUT_OF_RANGE(e||"offset","an integer",i)):t<0?new zt.ERR_BUFFER_OUT_OF_BOUNDS:new zt.ERR_OUT_OF_RANGE(e||"offset",`>= ${e?1:0} and <= ${t}`,i)}const kr=/[^+/0-9A-Za-z-_]/g;function Or(i){if(i=i.split("=")[0],i=i.trim().replace(kr,""),i.length<2)return"";for(;i.length%4!==0;)i=i+"=";return i}function xe(i,t){t=t||1/0;let e;const s=i.length;let f=null;const l=[];for(let x=0;x<s;++x){if(e=i.charCodeAt(x),e>55295&&e<57344){if(!f){if(e>56319){(t-=3)>-1&&l.push(239,191,189);continue}else if(x+1===s){(t-=3)>-1&&l.push(239,191,189);continue}f=e;continue}if(e<56320){(t-=3)>-1&&l.push(239,191,189),f=e;continue}e=(f-55296<<10|e-56320)+65536}else f&&(t-=3)>-1&&l.push(239,191,189);if(f=null,e<128){if((t-=1)<0)break;l.push(e)}else if(e<2048){if((t-=2)<0)break;l.push(e>>6|192,e&63|128)}else if(e<65536){if((t-=3)<0)break;l.push(e>>12|224,e>>6&63|128,e&63|128)}else if(e<1114112){if((t-=4)<0)break;l.push(e>>18|240,e>>12&63|128,e>>6&63|128,e&63|128)}else throw new Error("Invalid code point")}return l}function Dr(i){const t=[];for(let e=0;e<i.length;++e)t.push(i.charCodeAt(e)&255);return t}function Cr(i,t){let e,s,f;const l=[];for(let x=0;x<i.length&&!((t-=2)<0);++x)e=i.charCodeAt(x),s=e>>8,f=e%256,l.push(f),l.push(s);return l}function ze(i){return r.toByteArray(Or(i))}function re(i,t,e,s){let f;for(f=0;f<s&&!(f+e>=t.length||f>=i.length);++f)t[f+e]=i[f];return f}function bt(i,t){return i instanceof t||i!=null&&i.constructor!=null&&i.constructor.name!=null&&i.constructor.name===t.name}function ye(i){return i!==i}const Mr=function(){const i="0123456789abcdef",t=new Array(256);for(let e=0;e<16;++e){const s=e*16;for(let f=0;f<16;++f)t[s+f]=i[e]+i[f]}return t}();function Tt(i){return typeof BigInt=="undefined"?Lr:i}function Lr(){throw new Error("BigInt not supported")}})(q);const Qr=n=>q.Buffer.isBuffer(n)?n:n instanceof Uint8Array?q.Buffer.from(n.buffer,n.byteOffset,n.byteLength):q.Buffer.from(n);var tn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof global!="undefined"?global:typeof self!="undefined"?self:{};function en(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var cr={},F={},ee=hr;function hr(n,r){if(!n)throw new Error(r||"Assertion failed")}hr.equal=function(r,o,a){if(r!=o)throw new Error(a||"Assertion failed: "+r+" != "+o)};var Be={exports:{}};typeof Object.create=="function"?Be.exports=function(r,o){o&&(r.super_=o,r.prototype=Object.create(o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:Be.exports=function(r,o){if(o){r.super_=o;var a=function(){};a.prototype=o.prototype,r.prototype=new a,r.prototype.constructor=r}};var rn=ee,nn=Be.exports;F.inherits=nn;function on(n,r){return(n.charCodeAt(r)&64512)!==55296||r<0||r+1>=n.length?!1:(n.charCodeAt(r+1)&64512)===56320}function sn(n,r){if(Array.isArray(n))return n.slice();if(!n)return[];var o=[];if(typeof n=="string")if(r){if(r==="hex")for(n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n),u=0;u<n.length;u+=2)o.push(parseInt(n[u]+n[u+1],16))}else for(var a=0,u=0;u<n.length;u++){var c=n.charCodeAt(u);c<128?o[a++]=c:c<2048?(o[a++]=c>>6|192,o[a++]=c&63|128):on(n,u)?(c=65536+((c&1023)<<10)+(n.charCodeAt(++u)&1023),o[a++]=c>>18|240,o[a++]=c>>12&63|128,o[a++]=c>>6&63|128,o[a++]=c&63|128):(o[a++]=c>>12|224,o[a++]=c>>6&63|128,o[a++]=c&63|128)}else for(u=0;u<n.length;u++)o[u]=n[u]|0;return o}F.toArray=sn;function an(n){for(var r="",o=0;o<n.length;o++)r+=lr(n[o].toString(16));return r}F.toHex=an;function fr(n){var r=n>>>24|n>>>8&65280|n<<8&16711680|(n&255)<<24;return r>>>0}F.htonl=fr;function un(n,r){for(var o="",a=0;a<n.length;a++){var u=n[a];r==="little"&&(u=fr(u)),o+=dr(u.toString(16))}return o}F.toHex32=un;function lr(n){return n.length===1?"0"+n:n}F.zero2=lr;function dr(n){return n.length===7?"0"+n:n.length===6?"00"+n:n.length===5?"000"+n:n.length===4?"0000"+n:n.length===3?"00000"+n:n.length===2?"000000"+n:n.length===1?"0000000"+n:n}F.zero8=dr;function cn(n,r,o,a){var u=o-r;rn(u%4===0);for(var c=new Array(u/4),y=0,h=r;y<c.length;y++,h+=4){var g;a==="big"?g=n[h]<<24|n[h+1]<<16|n[h+2]<<8|n[h+3]:g=n[h+3]<<24|n[h+2]<<16|n[h+1]<<8|n[h],c[y]=g>>>0}return c}F.join32=cn;function hn(n,r){for(var o=new Array(n.length*4),a=0,u=0;a<n.length;a++,u+=4){var c=n[a];r==="big"?(o[u]=c>>>24,o[u+1]=c>>>16&255,o[u+2]=c>>>8&255,o[u+3]=c&255):(o[u+3]=c>>>24,o[u+2]=c>>>16&255,o[u+1]=c>>>8&255,o[u]=c&255)}return o}F.split32=hn;function fn(n,r){return n>>>r|n<<32-r}F.rotr32=fn;function ln(n,r){return n<<r|n>>>32-r}F.rotl32=ln;function dn(n,r){return n+r>>>0}F.sum32=dn;function pn(n,r,o){return n+r+o>>>0}F.sum32_3=pn;function xn(n,r,o,a){return n+r+o+a>>>0}F.sum32_4=xn;function yn(n,r,o,a,u){return n+r+o+a+u>>>0}F.sum32_5=yn;function bn(n,r,o,a){var u=n[r],c=n[r+1],y=a+c>>>0,h=(y<a?1:0)+o+u;n[r]=h>>>0,n[r+1]=y}F.sum64=bn;function mn(n,r,o,a){var u=r+a>>>0,c=(u<r?1:0)+n+o;return c>>>0}F.sum64_hi=mn;function wn(n,r,o,a){var u=r+a;return u>>>0}F.sum64_lo=wn;function gn(n,r,o,a,u,c,y,h){var g=0,E=r;E=E+a>>>0,g+=E<r?1:0,E=E+c>>>0,g+=E<c?1:0,E=E+h>>>0,g+=E<h?1:0;var A=n+o+u+y+g;return A>>>0}F.sum64_4_hi=gn;function En(n,r,o,a,u,c,y,h){var g=r+a+c+h;return g>>>0}F.sum64_4_lo=En;function _n(n,r,o,a,u,c,y,h,g,E){var A=0,_=r;_=_+a>>>0,A+=_<r?1:0,_=_+c>>>0,A+=_<c?1:0,_=_+h>>>0,A+=_<h?1:0,_=_+E>>>0,A+=_<E?1:0;var L=n+o+u+y+g+A;return L>>>0}F.sum64_5_hi=_n;function Bn(n,r,o,a,u,c,y,h,g,E){var A=r+a+c+h+E;return A>>>0}F.sum64_5_lo=Bn;function An(n,r,o){var a=r<<32-o|n>>>o;return a>>>0}F.rotr64_hi=An;function In(n,r,o){var a=n<<32-o|r>>>o;return a>>>0}F.rotr64_lo=In;function vn(n,r,o){return n>>>o}F.shr64_hi=vn;function Sn(n,r,o){var a=n<<32-o|r>>>o;return a>>>0}F.shr64_lo=Sn;var Kt={},Ke=F,Rn=ee;function le(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}Kt.BlockHash=le;le.prototype.update=function(r,o){if(r=Ke.toArray(r,o),this.pending?this.pending=this.pending.concat(r):this.pending=r,this.pendingTotal+=r.length,this.pending.length>=this._delta8){r=this.pending;var a=r.length%this._delta8;this.pending=r.slice(r.length-a,r.length),this.pending.length===0&&(this.pending=null),r=Ke.join32(r,0,r.length-a,this.endian);for(var u=0;u<r.length;u+=this._delta32)this._update(r,u,u+this._delta32)}return this};le.prototype.digest=function(r){return this.update(this._pad()),Rn(this.pending===null),this._digest(r)};le.prototype._pad=function(){var r=this.pendingTotal,o=this._delta8,a=o-(r+this.padLength)%o,u=new Array(a+this.padLength);u[0]=128;for(var c=1;c<a;c++)u[c]=0;if(r<<=3,this.endian==="big"){for(var y=8;y<this.padLength;y++)u[c++]=0;u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=r>>>24&255,u[c++]=r>>>16&255,u[c++]=r>>>8&255,u[c++]=r&255}else for(u[c++]=r&255,u[c++]=r>>>8&255,u[c++]=r>>>16&255,u[c++]=r>>>24&255,u[c++]=0,u[c++]=0,u[c++]=0,u[c++]=0,y=8;y<this.padLength;y++)u[c++]=0;return u};var qt={},At={},Un=F,mt=Un.rotr32;function Tn(n,r,o,a){if(n===0)return pr(r,o,a);if(n===1||n===3)return yr(r,o,a);if(n===2)return xr(r,o,a)}At.ft_1=Tn;function pr(n,r,o){return n&r^~n&o}At.ch32=pr;function xr(n,r,o){return n&r^n&o^r&o}At.maj32=xr;function yr(n,r,o){return n^r^o}At.p32=yr;function Fn(n){return mt(n,2)^mt(n,13)^mt(n,22)}At.s0_256=Fn;function Nn(n){return mt(n,6)^mt(n,11)^mt(n,25)}At.s1_256=Nn;function Pn(n){return mt(n,7)^mt(n,18)^n>>>3}At.g0_256=Pn;function kn(n){return mt(n,17)^mt(n,19)^n>>>10}At.g1_256=kn;var Wt=F,On=Kt,Dn=At,me=Wt.rotl32,Jt=Wt.sum32,Cn=Wt.sum32_5,Mn=Dn.ft_1,br=On.BlockHash,Ln=[1518500249,1859775393,2400959708,3395469782];function Et(){if(!(this instanceof Et))return new Et;br.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}Wt.inherits(Et,br);var $n=Et;Et.blockSize=512;Et.outSize=160;Et.hmacStrength=80;Et.padLength=64;Et.prototype._update=function(r,o){for(var a=this.W,u=0;u<16;u++)a[u]=r[o+u];for(;u<a.length;u++)a[u]=me(a[u-3]^a[u-8]^a[u-14]^a[u-16],1);var c=this.h[0],y=this.h[1],h=this.h[2],g=this.h[3],E=this.h[4];for(u=0;u<a.length;u++){var A=~~(u/20),_=Cn(me(c,5),Mn(A,y,h,g),E,a[u],Ln[A]);E=g,g=h,h=me(y,30),y=c,c=_}this.h[0]=Jt(this.h[0],c),this.h[1]=Jt(this.h[1],y),this.h[2]=Jt(this.h[2],h),this.h[3]=Jt(this.h[3],g),this.h[4]=Jt(this.h[4],E)};Et.prototype._digest=function(r){return r==="hex"?Wt.toHex32(this.h,"big"):Wt.split32(this.h,"big")};var jt=F,zn=Kt,Vt=At,Hn=ee,at=jt.sum32,Wn=jt.sum32_4,jn=jt.sum32_5,Gn=Vt.ch32,Kn=Vt.maj32,qn=Vt.s0_256,Vn=Vt.s1_256,Xn=Vt.g0_256,Jn=Vt.g1_256,mr=zn.BlockHash,Yn=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function _t(){if(!(this instanceof _t))return new _t;mr.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Yn,this.W=new Array(64)}jt.inherits(_t,mr);var wr=_t;_t.blockSize=512;_t.outSize=256;_t.hmacStrength=192;_t.padLength=64;_t.prototype._update=function(r,o){for(var a=this.W,u=0;u<16;u++)a[u]=r[o+u];for(;u<a.length;u++)a[u]=Wn(Jn(a[u-2]),a[u-7],Xn(a[u-15]),a[u-16]);var c=this.h[0],y=this.h[1],h=this.h[2],g=this.h[3],E=this.h[4],A=this.h[5],_=this.h[6],L=this.h[7];for(Hn(this.k.length===a.length),u=0;u<a.length;u++){var k=jn(L,Vn(E),Gn(E,A,_),this.k[u],a[u]),N=at(qn(c),Kn(c,y,h));L=_,_=A,A=E,E=at(g,k),g=h,h=y,y=c,c=at(k,N)}this.h[0]=at(this.h[0],c),this.h[1]=at(this.h[1],y),this.h[2]=at(this.h[2],h),this.h[3]=at(this.h[3],g),this.h[4]=at(this.h[4],E),this.h[5]=at(this.h[5],A),this.h[6]=at(this.h[6],_),this.h[7]=at(this.h[7],L)};_t.prototype._digest=function(r){return r==="hex"?jt.toHex32(this.h,"big"):jt.split32(this.h,"big")};var Ae=F,gr=wr;function vt(){if(!(this instanceof vt))return new vt;gr.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Ae.inherits(vt,gr);var Zn=vt;vt.blockSize=512;vt.outSize=224;vt.hmacStrength=192;vt.padLength=64;vt.prototype._digest=function(r){return r==="hex"?Ae.toHex32(this.h.slice(0,7),"big"):Ae.split32(this.h.slice(0,7),"big")};var nt=F,Qn=Kt,ti=ee,wt=nt.rotr64_hi,gt=nt.rotr64_lo,Er=nt.shr64_hi,_r=nt.shr64_lo,Ft=nt.sum64,we=nt.sum64_hi,ge=nt.sum64_lo,ei=nt.sum64_4_hi,ri=nt.sum64_4_lo,ni=nt.sum64_5_hi,ii=nt.sum64_5_lo,Br=Qn.BlockHash,oi=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ft(){if(!(this instanceof ft))return new ft;Br.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=oi,this.W=new Array(160)}nt.inherits(ft,Br);var Ar=ft;ft.blockSize=1024;ft.outSize=512;ft.hmacStrength=192;ft.padLength=128;ft.prototype._prepareBlock=function(r,o){for(var a=this.W,u=0;u<32;u++)a[u]=r[o+u];for(;u<a.length;u+=2){var c=yi(a[u-4],a[u-3]),y=bi(a[u-4],a[u-3]),h=a[u-14],g=a[u-13],E=pi(a[u-30],a[u-29]),A=xi(a[u-30],a[u-29]),_=a[u-32],L=a[u-31];a[u]=ei(c,y,h,g,E,A,_,L),a[u+1]=ri(c,y,h,g,E,A,_,L)}};ft.prototype._update=function(r,o){this._prepareBlock(r,o);var a=this.W,u=this.h[0],c=this.h[1],y=this.h[2],h=this.h[3],g=this.h[4],E=this.h[5],A=this.h[6],_=this.h[7],L=this.h[8],k=this.h[9],N=this.h[10],it=this.h[11],dt=this.h[12],pt=this.h[13],Nt=this.h[14],Rt=this.h[15];ti(this.k.length===a.length);for(var st=0;st<a.length;st+=2){var Y=Nt,xt=Rt,yt=li(L,k),Q=di(L,k),Ct=si(L,k,N,it,dt),Mt=ai(L,k,N,it,dt,pt),tt=this.k[st],Lt=this.k[st+1],Ut=a[st],d=a[st+1],m=ni(Y,xt,yt,Q,Ct,Mt,tt,Lt,Ut,d),v=ii(Y,xt,yt,Q,Ct,Mt,tt,Lt,Ut,d);Y=hi(u,c),xt=fi(u,c),yt=ui(u,c,y,h,g),Q=ci(u,c,y,h,g,E);var K=we(Y,xt,yt,Q),W=ge(Y,xt,yt,Q);Nt=dt,Rt=pt,dt=N,pt=it,N=L,it=k,L=we(A,_,m,v),k=ge(_,_,m,v),A=g,_=E,g=y,E=h,y=u,h=c,u=we(m,v,K,W),c=ge(m,v,K,W)}Ft(this.h,0,u,c),Ft(this.h,2,y,h),Ft(this.h,4,g,E),Ft(this.h,6,A,_),Ft(this.h,8,L,k),Ft(this.h,10,N,it),Ft(this.h,12,dt,pt),Ft(this.h,14,Nt,Rt)};ft.prototype._digest=function(r){return r==="hex"?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")};function si(n,r,o,a,u){var c=n&o^~n&u;return c<0&&(c+=4294967296),c}function ai(n,r,o,a,u,c){var y=r&a^~r&c;return y<0&&(y+=4294967296),y}function ui(n,r,o,a,u){var c=n&o^n&u^o&u;return c<0&&(c+=4294967296),c}function ci(n,r,o,a,u,c){var y=r&a^r&c^a&c;return y<0&&(y+=4294967296),y}function hi(n,r){var o=wt(n,r,28),a=wt(r,n,2),u=wt(r,n,7),c=o^a^u;return c<0&&(c+=4294967296),c}function fi(n,r){var o=gt(n,r,28),a=gt(r,n,2),u=gt(r,n,7),c=o^a^u;return c<0&&(c+=4294967296),c}function li(n,r){var o=wt(n,r,14),a=wt(n,r,18),u=wt(r,n,9),c=o^a^u;return c<0&&(c+=4294967296),c}function di(n,r){var o=gt(n,r,14),a=gt(n,r,18),u=gt(r,n,9),c=o^a^u;return c<0&&(c+=4294967296),c}function pi(n,r){var o=wt(n,r,1),a=wt(n,r,8),u=Er(n,r,7),c=o^a^u;return c<0&&(c+=4294967296),c}function xi(n,r){var o=gt(n,r,1),a=gt(n,r,8),u=_r(n,r,7),c=o^a^u;return c<0&&(c+=4294967296),c}function yi(n,r){var o=wt(n,r,19),a=wt(r,n,29),u=Er(n,r,6),c=o^a^u;return c<0&&(c+=4294967296),c}function bi(n,r){var o=gt(n,r,19),a=gt(r,n,29),u=_r(n,r,6),c=o^a^u;return c<0&&(c+=4294967296),c}var Ie=F,Ir=Ar;function St(){if(!(this instanceof St))return new St;Ir.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Ie.inherits(St,Ir);var mi=St;St.blockSize=1024;St.outSize=384;St.hmacStrength=192;St.padLength=128;St.prototype._digest=function(r){return r==="hex"?Ie.toHex32(this.h.slice(0,12),"big"):Ie.split32(this.h.slice(0,12),"big")};qt.sha1=$n;qt.sha224=Zn;qt.sha256=wr;qt.sha384=mi;qt.sha512=Ar;var vr={},Ot=F,wi=Kt,ie=Ot.rotl32,qe=Ot.sum32,Yt=Ot.sum32_3,Ve=Ot.sum32_4,Sr=wi.BlockHash;function Bt(){if(!(this instanceof Bt))return new Bt;Sr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}Ot.inherits(Bt,Sr);vr.ripemd160=Bt;Bt.blockSize=512;Bt.outSize=160;Bt.hmacStrength=192;Bt.padLength=64;Bt.prototype._update=function(r,o){for(var a=this.h[0],u=this.h[1],c=this.h[2],y=this.h[3],h=this.h[4],g=a,E=u,A=c,_=y,L=h,k=0;k<80;k++){var N=qe(ie(Ve(a,Xe(k,u,c,y),r[_i[k]+o],gi(k)),Ai[k]),h);a=h,h=y,y=ie(c,10),c=u,u=N,N=qe(ie(Ve(g,Xe(79-k,E,A,_),r[Bi[k]+o],Ei(k)),Ii[k]),L),g=L,L=_,_=ie(A,10),A=E,E=N}N=Yt(this.h[1],c,_),this.h[1]=Yt(this.h[2],y,L),this.h[2]=Yt(this.h[3],h,g),this.h[3]=Yt(this.h[4],a,E),this.h[4]=Yt(this.h[0],u,A),this.h[0]=N};Bt.prototype._digest=function(r){return r==="hex"?Ot.toHex32(this.h,"little"):Ot.split32(this.h,"little")};function Xe(n,r,o,a){return n<=15?r^o^a:n<=31?r&o|~r&a:n<=47?(r|~o)^a:n<=63?r&a|o&~a:r^(o|~a)}function gi(n){return n<=15?0:n<=31?1518500249:n<=47?1859775393:n<=63?2400959708:2840853838}function Ei(n){return n<=15?1352829926:n<=31?1548603684:n<=47?1836072691:n<=63?2053994217:0}var _i=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],Bi=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],Ai=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],Ii=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],vi=F,Si=ee;function Gt(n,r,o){if(!(this instanceof Gt))return new Gt(n,r,o);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(vi.toArray(r,o))}var Ri=Gt;Gt.prototype._init=function(r){r.length>this.blockSize&&(r=new this.Hash().update(r).digest()),Si(r.length<=this.blockSize);for(var o=r.length;o<this.blockSize;o++)r.push(0);for(o=0;o<r.length;o++)r[o]^=54;for(this.inner=new this.Hash().update(r),o=0;o<r.length;o++)r[o]^=106;this.outer=new this.Hash().update(r)};Gt.prototype.update=function(r,o){return this.inner.update(r,o),this};Gt.prototype.digest=function(r){return this.outer.update(this.inner.digest()),this.outer.digest(r)};(function(n){var r=n;r.utils=F,r.common=Kt,r.sha=qt,r.ripemd=vr,r.hmac=Ri,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})(cr);var Ui=cr;const Ti="logger/5.6.0";let Je=!1,Ye=!1;const se={debug:1,default:2,info:2,warning:3,error:4,off:5};let Ze=se.default,Ee=null;function Fi(){try{const n=[];if(["NFD","NFC","NFKD","NFKC"].forEach(r=>{try{if("test".normalize(r)!=="test")throw new Error("bad normalize")}catch{n.push(r)}}),n.length)throw new Error("missing "+n.join(", "));if(String.fromCharCode(233).normalize("NFD")!==String.fromCharCode(101,769))throw new Error("broken implementation")}catch(n){return n.message}return null}const Qe=Fi();var ve;(function(n){n.DEBUG="DEBUG",n.INFO="INFO",n.WARNING="WARNING",n.ERROR="ERROR",n.OFF="OFF"})(ve||(ve={}));var ut;(function(n){n.UNKNOWN_ERROR="UNKNOWN_ERROR",n.NOT_IMPLEMENTED="NOT_IMPLEMENTED",n.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",n.NETWORK_ERROR="NETWORK_ERROR",n.SERVER_ERROR="SERVER_ERROR",n.TIMEOUT="TIMEOUT",n.BUFFER_OVERRUN="BUFFER_OVERRUN",n.NUMERIC_FAULT="NUMERIC_FAULT",n.MISSING_NEW="MISSING_NEW",n.INVALID_ARGUMENT="INVALID_ARGUMENT",n.MISSING_ARGUMENT="MISSING_ARGUMENT",n.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",n.CALL_EXCEPTION="CALL_EXCEPTION",n.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",n.NONCE_EXPIRED="NONCE_EXPIRED",n.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",n.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",n.TRANSACTION_REPLACED="TRANSACTION_REPLACED"})(ut||(ut={}));const tr="0123456789abcdef";class H{constructor(r){Object.defineProperty(this,"version",{enumerable:!0,value:r,writable:!1})}_log(r,o){const a=r.toLowerCase();se[a]==null&&this.throwArgumentError("invalid log level name","logLevel",r),!(Ze>se[a])&&console.log.apply(console,o)}debug(...r){this._log(H.levels.DEBUG,r)}info(...r){this._log(H.levels.INFO,r)}warn(...r){this._log(H.levels.WARNING,r)}makeError(r,o,a){if(Ye)return this.makeError("censored error",o,{});o||(o=H.errors.UNKNOWN_ERROR),a||(a={});const u=[];Object.keys(a).forEach(g=>{const E=a[g];try{if(E instanceof Uint8Array){let A="";for(let _=0;_<E.length;_++)A+=tr[E[_]>>4],A+=tr[E[_]&15];u.push(g+"=Uint8Array(0x"+A+")")}else u.push(g+"="+JSON.stringify(E))}catch{u.push(g+"="+JSON.stringify(a[g].toString()))}}),u.push(`code=${o}`),u.push(`version=${this.version}`);const c=r;let y="";switch(o){case ut.NUMERIC_FAULT:{y="NUMERIC_FAULT";const g=r;switch(g){case"overflow":case"underflow":case"division-by-zero":y+="-"+g;break;case"negative-power":case"negative-width":y+="-unsupported";break;case"unbound-bitwise-result":y+="-unbound-result";break}break}case ut.CALL_EXCEPTION:case ut.INSUFFICIENT_FUNDS:case ut.MISSING_NEW:case ut.NONCE_EXPIRED:case ut.REPLACEMENT_UNDERPRICED:case ut.TRANSACTION_REPLACED:case ut.UNPREDICTABLE_GAS_LIMIT:y=o;break}y&&(r+=" [ See: https://links.ethers.org/v5-errors-"+y+" ]"),u.length&&(r+=" ("+u.join(", ")+")");const h=new Error(r);return h.reason=c,h.code=o,Object.keys(a).forEach(function(g){h[g]=a[g]}),h}throwError(r,o,a){throw this.makeError(r,o,a)}throwArgumentError(r,o,a){return this.throwError(r,H.errors.INVALID_ARGUMENT,{argument:o,value:a})}assert(r,o,a,u){r||this.throwError(o,a,u)}assertArgument(r,o,a,u){r||this.throwArgumentError(o,a,u)}checkNormalize(r){Qe&&this.throwError("platform missing String.prototype.normalize",H.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:Qe})}checkSafeUint53(r,o){typeof r=="number"&&(o==null&&(o="value not safe"),(r<0||r>=9007199254740991)&&this.throwError(o,H.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:r}),r%1&&this.throwError(o,H.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:r}))}checkArgumentCount(r,o,a){a?a=": "+a:a="",r<o&&this.throwError("missing argument"+a,H.errors.MISSING_ARGUMENT,{count:r,expectedCount:o}),r>o&&this.throwError("too many arguments"+a,H.errors.UNEXPECTED_ARGUMENT,{count:r,expectedCount:o})}checkNew(r,o){(r===Object||r==null)&&this.throwError("missing new",H.errors.MISSING_NEW,{name:o.name})}checkAbstract(r,o){r===o?this.throwError("cannot instantiate abstract class "+JSON.stringify(o.name)+" directly; use a sub-class",H.errors.UNSUPPORTED_OPERATION,{name:r.name,operation:"new"}):(r===Object||r==null)&&this.throwError("missing new",H.errors.MISSING_NEW,{name:o.name})}static globalLogger(){return Ee||(Ee=new H(Ti)),Ee}static setCensorship(r,o){if(!r&&o&&this.globalLogger().throwError("cannot permanently disable censorship",H.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),Je){if(!r)return;this.globalLogger().throwError("error censorship permanent",H.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}Ye=!!r,Je=!!o}static setLogLevel(r){const o=se[r.toLowerCase()];if(o==null){H.globalLogger().warn("invalid log level - "+r);return}Ze=o}static from(r){return new H(r)}}H.errors=ut;H.levels=ve;const Ni="bytes/5.6.0",_e=new H(Ni);function Pi(n){return!!n.toHexString}function ae(n){return n.slice||(n.slice=function(){const r=Array.prototype.slice.call(arguments);return ae(new Uint8Array(Array.prototype.slice.apply(n,r)))}),n}function er(n){return typeof n=="number"&&n==n&&n%1===0}function ki(n){if(n==null)return!1;if(n.constructor===Uint8Array)return!0;if(typeof n=="string"||!er(n.length)||n.length<0)return!1;for(let r=0;r<n.length;r++){const o=n[r];if(!er(o)||o<0||o>=256)return!1}return!0}function Oi(n,r){if(r||(r={}),typeof n=="number"){_e.checkSafeUint53(n,"invalid arrayify value");const o=[];for(;n;)o.unshift(n&255),n=parseInt(String(n/256));return o.length===0&&o.push(0),ae(new Uint8Array(o))}if(r.allowMissingPrefix&&typeof n=="string"&&n.substring(0,2)!=="0x"&&(n="0x"+n),Pi(n)&&(n=n.toHexString()),Di(n)){let o=n.substring(2);o.length%2&&(r.hexPad==="left"?o="0x0"+o.substring(2):r.hexPad==="right"?o+="0":_e.throwArgumentError("hex data is odd-length","value",n));const a=[];for(let u=0;u<o.length;u+=2)a.push(parseInt(o.substring(u,u+2),16));return ae(new Uint8Array(a))}return ki(n)?ae(new Uint8Array(n)):_e.throwArgumentError("invalid arrayify value","value",n)}function Di(n,r){return!(typeof n!="string"||!n.match(/^0x[0-9A-Fa-f]*$/)||r&&n.length!==2+2*r)}const Ci="sha2/5.6.0";new H(Ci);function rr(n){return"0x"+Ui.sha256().update(Oi(n)).digest("hex")}class Mi{constructor(r){Object.assign(this,r)}encode(){return q.Buffer.from(Xr(ue,this))}static decode(r){return Jr(ue,this,r)}static decodeUnchecked(r){return Yr(ue,this,r)}}const ue=new Map,Li=32;function $i(n){return n._bn!==void 0}class P extends Mi{constructor(r){if(super({}),this._bn=void 0,$i(r))this._bn=r._bn;else{if(typeof r=="string"){const o=kt.decode(r);if(o.length!=32)throw new Error("Invalid public key input");this._bn=new be(o)}else this._bn=new be(r);if(this._bn.byteLength()>32)throw new Error("Invalid public key input")}}equals(r){return this._bn.eq(r._bn)}toBase58(){return kt.encode(this.toBytes())}toJSON(){return this.toBase58()}toBytes(){return this.toBuffer()}toBuffer(){const r=this._bn.toArrayLike(q.Buffer);if(r.length===32)return r;const o=q.Buffer.alloc(32);return r.copy(o,32-r.length),o}toString(){return this.toBase58()}static async createWithSeed(r,o,a){const u=q.Buffer.concat([r.toBuffer(),q.Buffer.from(o),a.toBuffer()]),c=rr(new Uint8Array(u)).slice(2);return new P(q.Buffer.from(c,"hex"))}static async createProgramAddress(r,o){let a=q.Buffer.alloc(0);r.forEach(function(y){if(y.length>Li)throw new TypeError("Max seed length exceeded");a=q.Buffer.concat([a,Qr(y)])}),a=q.Buffer.concat([a,o.toBuffer(),q.Buffer.from("ProgramDerivedAddress")]);let u=rr(new Uint8Array(a)).slice(2),c=new be(u,16).toArray(void 0,32);if(nr(c))throw new Error("Invalid seeds, address must fall off the curve");return new P(c)}static async findProgramAddress(r,o){let a=255,u;for(;a!=0;){try{const c=r.concat(q.Buffer.from([a]));u=await this.createProgramAddress(c,o)}catch(c){if(c instanceof TypeError)throw c;a--;continue}return[u,a]}throw new Error("Unable to find a viable program address nonce")}static isOnCurve(r){return nr(r)==1}}P.default=new P("11111111111111111111111111111111");ue.set(P,{kind:"struct",fields:[["_bn","u256"]]});let R=qr.lowlevel;function nr(n){var r=[R.gf(),R.gf(),R.gf(),R.gf()],o=R.gf(),a=R.gf(),u=R.gf(),c=R.gf(),y=R.gf(),h=R.gf(),g=R.gf();return R.set25519(r[2],zi),R.unpack25519(r[1],n),R.S(u,r[1]),R.M(c,u,R.D),R.Z(u,u,r[2]),R.A(c,r[2],c),R.S(y,c),R.S(h,y),R.M(g,h,y),R.M(o,g,u),R.M(o,o,c),R.pow2523(o,o),R.M(o,o,u),R.M(o,o,c),R.M(o,o,c),R.M(r[0],o,c),R.S(a,r[0]),R.M(a,a,c),ir(a,u)&&R.M(r[0],r[0],Hi),R.S(a,r[0]),R.M(a,a,c),ir(a,u)?0:1}let zi=R.gf([1]),Hi=R.gf([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function ir(n,r){var o=new Uint8Array(32),a=new Uint8Array(32);return R.pack25519(o,n),R.pack25519(a,r),R.crypto_verify_32(o,0,a,0)}new P("BPFLoader1111111111111111111111111111111111");const M=(n="publicKey")=>ce(32,n),Zt=(n="string")=>{const r=U([T("length"),T("lengthPadding"),ce(oe(T(),-8),"chars")],n),o=r.decode.bind(r),a=r.encode.bind(r),u=r;return u.decode=(c,y)=>o(c,y).chars.toString(),u.encode=(c,y,h)=>{const g={chars:q.Buffer.from(c,"utf8")};return a(g,y,h)},u.alloc=c=>T().span+T().span+q.Buffer.from(c,"utf8").length,u},Wi=(n="authorized")=>U([M("staker"),M("withdrawer")],n),ji=(n="lockup")=>U([rt("unixTimestamp"),rt("epoch"),M("custodian")],n),Gi=(n="voteInit")=>U([M("nodePubkey"),M("authorizedVoter"),M("authorizedWithdrawer"),ht("commission")],n);q.Buffer.alloc(64).fill(0);new P("SysvarC1ock11111111111111111111111111111111");new P("SysvarEpochSchedu1e111111111111111111111111");new P("Sysvar1nstructions1111111111111111111111111");new P("SysvarRecentB1ockHashes11111111111111111111");new P("SysvarRent111111111111111111111111111111111");new P("SysvarRewards111111111111111111111111111111");new P("SysvarS1otHashes111111111111111111111111111");new P("SysvarS1otHistory11111111111111111111111111");new P("SysvarStakeHistory1111111111111111111111111");const Ki=et("lamportsPerSignature"),qi=U([T("version"),T("state"),M("authorizedPubkey"),M("nonce"),U([Ki],"feeCalculator")]);qi.span;Object.freeze({Create:{index:0,layout:U([T("instruction"),rt("lamports"),rt("space"),M("programId")])},Assign:{index:1,layout:U([T("instruction"),M("programId")])},Transfer:{index:2,layout:U([T("instruction"),rt("lamports")])},CreateWithSeed:{index:3,layout:U([T("instruction"),M("base"),Zt("seed"),rt("lamports"),rt("space"),M("programId")])},AdvanceNonceAccount:{index:4,layout:U([T("instruction")])},WithdrawNonceAccount:{index:5,layout:U([T("instruction"),rt("lamports")])},InitializeNonceAccount:{index:6,layout:U([T("instruction"),M("authorized")])},AuthorizeNonceAccount:{index:7,layout:U([T("instruction"),M("authorized")])},Allocate:{index:8,layout:U([T("instruction"),rt("space")])},AllocateWithSeed:{index:9,layout:U([T("instruction"),M("base"),Zt("seed"),rt("space"),M("programId")])},AssignWithSeed:{index:10,layout:U([T("instruction"),M("base"),Zt("seed"),M("programId")])},TransferWithSeed:{index:11,layout:U([T("instruction"),rt("lamports"),Zt("seed"),M("programId")])}});new P("11111111111111111111111111111111");new P("BPFLoader2111111111111111111111111111111111");var Se={exports:{}};(function(n,r){var o=typeof self!="undefined"?self:tn,a=function(){function c(){this.fetch=!1,this.DOMException=o.DOMException}return c.prototype=o,new c}();(function(c){(function(y){var h={searchParams:"URLSearchParams"in c,iterable:"Symbol"in c&&"iterator"in Symbol,blob:"FileReader"in c&&"Blob"in c&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in c,arrayBuffer:"ArrayBuffer"in c};function g(d){return d&&DataView.prototype.isPrototypeOf(d)}if(h.arrayBuffer)var E=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],A=ArrayBuffer.isView||function(d){return d&&E.indexOf(Object.prototype.toString.call(d))>-1};function _(d){if(typeof d!="string"&&(d=String(d)),/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(d))throw new TypeError("Invalid character in header field name");return d.toLowerCase()}function L(d){return typeof d!="string"&&(d=String(d)),d}function k(d){var m={next:function(){var v=d.shift();return{done:v===void 0,value:v}}};return h.iterable&&(m[Symbol.iterator]=function(){return m}),m}function N(d){this.map={},d instanceof N?d.forEach(function(m,v){this.append(v,m)},this):Array.isArray(d)?d.forEach(function(m){this.append(m[0],m[1])},this):d&&Object.getOwnPropertyNames(d).forEach(function(m){this.append(m,d[m])},this)}N.prototype.append=function(d,m){d=_(d),m=L(m);var v=this.map[d];this.map[d]=v?v+", "+m:m},N.prototype.delete=function(d){delete this.map[_(d)]},N.prototype.get=function(d){return d=_(d),this.has(d)?this.map[d]:null},N.prototype.has=function(d){return this.map.hasOwnProperty(_(d))},N.prototype.set=function(d,m){this.map[_(d)]=L(m)},N.prototype.forEach=function(d,m){for(var v in this.map)this.map.hasOwnProperty(v)&&d.call(m,this.map[v],v,this)},N.prototype.keys=function(){var d=[];return this.forEach(function(m,v){d.push(v)}),k(d)},N.prototype.values=function(){var d=[];return this.forEach(function(m){d.push(m)}),k(d)},N.prototype.entries=function(){var d=[];return this.forEach(function(m,v){d.push([v,m])}),k(d)},h.iterable&&(N.prototype[Symbol.iterator]=N.prototype.entries);function it(d){if(d.bodyUsed)return Promise.reject(new TypeError("Already read"));d.bodyUsed=!0}function dt(d){return new Promise(function(m,v){d.onload=function(){m(d.result)},d.onerror=function(){v(d.error)}})}function pt(d){var m=new FileReader,v=dt(m);return m.readAsArrayBuffer(d),v}function Nt(d){var m=new FileReader,v=dt(m);return m.readAsText(d),v}function Rt(d){for(var m=new Uint8Array(d),v=new Array(m.length),K=0;K<m.length;K++)v[K]=String.fromCharCode(m[K]);return v.join("")}function st(d){if(d.slice)return d.slice(0);var m=new Uint8Array(d.byteLength);return m.set(new Uint8Array(d)),m.buffer}function Y(){return this.bodyUsed=!1,this._initBody=function(d){this._bodyInit=d,d?typeof d=="string"?this._bodyText=d:h.blob&&Blob.prototype.isPrototypeOf(d)?this._bodyBlob=d:h.formData&&FormData.prototype.isPrototypeOf(d)?this._bodyFormData=d:h.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)?this._bodyText=d.toString():h.arrayBuffer&&h.blob&&g(d)?(this._bodyArrayBuffer=st(d.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):h.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(d)||A(d))?this._bodyArrayBuffer=st(d):this._bodyText=d=Object.prototype.toString.call(d):this._bodyText="",this.headers.get("content-type")||(typeof d=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):h.searchParams&&URLSearchParams.prototype.isPrototypeOf(d)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},h.blob&&(this.blob=function(){var d=it(this);if(d)return d;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?it(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(pt)}),this.text=function(){var d=it(this);if(d)return d;if(this._bodyBlob)return Nt(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(Rt(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},h.formData&&(this.formData=function(){return this.text().then(Ct)}),this.json=function(){return this.text().then(JSON.parse)},this}var xt=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];function yt(d){var m=d.toUpperCase();return xt.indexOf(m)>-1?m:d}function Q(d,m){m=m||{};var v=m.body;if(d instanceof Q){if(d.bodyUsed)throw new TypeError("Already read");this.url=d.url,this.credentials=d.credentials,m.headers||(this.headers=new N(d.headers)),this.method=d.method,this.mode=d.mode,this.signal=d.signal,!v&&d._bodyInit!=null&&(v=d._bodyInit,d.bodyUsed=!0)}else this.url=String(d);if(this.credentials=m.credentials||this.credentials||"same-origin",(m.headers||!this.headers)&&(this.headers=new N(m.headers)),this.method=yt(m.method||this.method||"GET"),this.mode=m.mode||this.mode||null,this.signal=m.signal||this.signal,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&v)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(v)}Q.prototype.clone=function(){return new Q(this,{body:this._bodyInit})};function Ct(d){var m=new FormData;return d.trim().split("&").forEach(function(v){if(v){var K=v.split("="),W=K.shift().replace(/\+/g," "),O=K.join("=").replace(/\+/g," ");m.append(decodeURIComponent(W),decodeURIComponent(O))}}),m}function Mt(d){var m=new N,v=d.replace(/\r?\n[\t ]+/g," ");return v.split(/\r?\n/).forEach(function(K){var W=K.split(":"),O=W.shift().trim();if(O){var $t=W.join(":").trim();m.append(O,$t)}}),m}Y.call(Q.prototype);function tt(d,m){m||(m={}),this.type="default",this.status=m.status===void 0?200:m.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in m?m.statusText:"OK",this.headers=new N(m.headers),this.url=m.url||"",this._initBody(d)}Y.call(tt.prototype),tt.prototype.clone=function(){return new tt(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new N(this.headers),url:this.url})},tt.error=function(){var d=new tt(null,{status:0,statusText:""});return d.type="error",d};var Lt=[301,302,303,307,308];tt.redirect=function(d,m){if(Lt.indexOf(m)===-1)throw new RangeError("Invalid status code");return new tt(null,{status:m,headers:{location:d}})},y.DOMException=c.DOMException;try{new y.DOMException}catch{y.DOMException=function(m,v){this.message=m,this.name=v;var K=Error(m);this.stack=K.stack},y.DOMException.prototype=Object.create(Error.prototype),y.DOMException.prototype.constructor=y.DOMException}function Ut(d,m){return new Promise(function(v,K){var W=new Q(d,m);if(W.signal&&W.signal.aborted)return K(new y.DOMException("Aborted","AbortError"));var O=new XMLHttpRequest;function $t(){O.abort()}O.onload=function(){var $={status:O.status,statusText:O.statusText,headers:Mt(O.getAllResponseHeaders()||"")};$.url="responseURL"in O?O.responseURL:$.headers.get("X-Request-URL");var X="response"in O?O.response:O.responseText;v(new tt(X,$))},O.onerror=function(){K(new TypeError("Network request failed"))},O.ontimeout=function(){K(new TypeError("Network request failed"))},O.onabort=function(){K(new y.DOMException("Aborted","AbortError"))},O.open(W.method,W.url,!0),W.credentials==="include"?O.withCredentials=!0:W.credentials==="omit"&&(O.withCredentials=!1),"responseType"in O&&h.blob&&(O.responseType="blob"),W.headers.forEach(function($,X){O.setRequestHeader(X,$)}),W.signal&&(W.signal.addEventListener("abort",$t),O.onreadystatechange=function(){O.readyState===4&&W.signal.removeEventListener("abort",$t)}),O.send(typeof W._bodyInit=="undefined"?null:W._bodyInit)})}return Ut.polyfill=!0,c.fetch||(c.fetch=Ut,c.Headers=N,c.Request=Q,c.Response=tt),y.Headers=N,y.Request=Q,y.Response=tt,y.fetch=Ut,Object.defineProperty(y,"__esModule",{value:!0}),y})({})})(a),a.fetch.ponyfill=!0,delete a.fetch.polyfill;var u=a;r=u.fetch,r.default=u.fetch,r.fetch=u.fetch,r.Headers=u.Headers,r.Request=u.Request,r.Response=u.Response,n.exports=r})(Se,Se.exports);Se.exports;const Z=Qt(Ue(P),w(),n=>new P(n)),Rr=ar([w(),J("base64")]),Te=Qt(Ue(q.Buffer),Rr,n=>q.Buffer.from(n[0],"base64"));function Ur(n){return ot([b({jsonrpc:J("2.0"),id:w(),result:n}),b({jsonrpc:J("2.0"),id:w(),error:b({code:te(),message:w(),data:D(Vr())})})])}const Vi=Ur(te());function V(n){return Qt(Ur(n),Vi,r=>"error"in r?r:Ge(je({},r),{result:he(r.result,n)}))}function lt(n){return V(b({context:b({slot:p()}),value:n}))}function de(n){return b({context:b({slot:p()}),value:n})}const Xi=b({foundation:p(),foundationTerm:p(),initial:p(),taper:p(),terminal:p()});V(B(I(b({epoch:p(),effectiveSlot:p(),amount:p(),postBalance:p()}))));const Ji=b({epoch:p(),slotIndex:p(),slotsInEpoch:p(),absoluteSlot:p(),blockHeight:D(p()),transactionCount:D(p())}),Yi=b({slotsPerEpoch:p(),leaderScheduleSlotOffset:p(),warmup:It(),firstNormalEpoch:p(),firstNormalSlot:p()}),Zi=ur(w(),B(p())),Dt=I(ot([b({}),w()])),Qi=b({err:Dt}),to=J("receivedSignature");b({"solana-core":w(),"feature-set":D(p())});lt(b({err:I(ot([b({}),w()])),logs:I(B(w())),accounts:D(I(B(I(b({executable:It(),owner:w(),lamports:p(),data:B(w()),rentEpoch:D(p())}))))),unitsConsumed:D(p())}));lt(b({byIdentity:ur(w(),B(p())),range:b({firstSlot:p(),lastSlot:p()})}));V(Xi);V(Ji);V(Yi);V(Zi);V(p());lt(b({total:p(),circulating:p(),nonCirculating:p(),nonCirculatingAccounts:B(Z)}));const eo=b({amount:w(),uiAmount:I(p()),decimals:p(),uiAmountString:D(w())});lt(B(b({address:Z,amount:w(),uiAmount:I(p()),decimals:p(),uiAmountString:D(w())})));lt(B(b({pubkey:Z,account:b({executable:It(),owner:Z,lamports:p(),data:Te,rentEpoch:p()})})));const Re=b({program:w(),parsed:te(),space:p()});lt(B(b({pubkey:Z,account:b({executable:It(),owner:Z,lamports:p(),data:Re,rentEpoch:p()})})));lt(B(b({lamports:p(),address:Z})));const Fe=b({executable:It(),owner:Z,lamports:p(),data:Te,rentEpoch:p()});b({pubkey:Z,account:Fe});const ro=Qt(ot([Ue(q.Buffer),Re]),ot([Rr,Re]),n=>Array.isArray(n)?he(n,Te):n),no=b({executable:It(),owner:Z,lamports:p(),data:ro,rentEpoch:p()});b({pubkey:Z,account:no});b({state:ot([J("active"),J("inactive"),J("activating"),J("deactivating")]),active:p(),inactive:p()});V(B(b({signature:w(),slot:p(),err:Dt,memo:I(w()),blockTime:D(I(p()))})));V(B(b({signature:w(),slot:p(),err:Dt,memo:I(w()),blockTime:D(I(p()))})));b({subscription:p(),result:de(Fe)});const io=b({pubkey:Z,account:Fe});b({subscription:p(),result:de(io)});const oo=b({parent:p(),slot:p(),root:p()});b({subscription:p(),result:oo});const so=ot([b({type:ot([J("firstShredReceived"),J("completed"),J("optimisticConfirmation"),J("root")]),slot:p(),timestamp:p()}),b({type:J("createdBank"),parent:p(),slot:p(),timestamp:p()}),b({type:J("frozen"),slot:p(),timestamp:p(),stats:b({numTransactionEntries:p(),numSuccessfulTransactions:p(),numFailedTransactions:p(),maxTransactionsPerEntry:p()})}),b({type:J("dead"),slot:p(),timestamp:p(),err:w()})]);b({subscription:p(),result:so});b({subscription:p(),result:de(ot([Qi,to]))});b({subscription:p(),result:p()});b({pubkey:w(),gossip:I(w()),tpu:I(w()),rpc:I(w()),version:I(w())});const or=b({votePubkey:w(),nodePubkey:w(),activatedStake:p(),epochVoteAccount:It(),epochCredits:B(ar([p(),p(),p()])),commission:p(),lastVote:p(),rootSlot:I(p())});V(b({current:B(or),delinquent:B(or)}));const ao=ot([J("processed"),J("confirmed"),J("finalized")]),uo=b({slot:p(),confirmations:I(p()),err:Dt,confirmationStatus:D(ao)});lt(B(I(uo)));V(p());const Ne=b({signatures:B(w()),message:b({accountKeys:B(w()),header:b({numRequiredSignatures:p(),numReadonlySignedAccounts:p(),numReadonlyUnsignedAccounts:p()}),instructions:B(b({accounts:B(p()),data:w(),programIdIndex:p()})),recentBlockhash:w()})}),Tr=b({parsed:te(),program:w(),programId:Z}),Fr=b({accounts:B(Z),data:w(),programId:Z}),co=ot([Fr,Tr]),ho=ot([b({parsed:te(),program:w(),programId:w()}),b({accounts:B(w()),data:w(),programId:w()})]),Nr=Qt(co,ho,n=>"accounts"in n?he(n,Fr):he(n,Tr)),fo=b({signatures:B(w()),message:b({accountKeys:B(b({pubkey:Z,signer:It(),writable:It()})),instructions:B(Nr),recentBlockhash:w()})}),fe=b({accountIndex:p(),mint:w(),owner:D(w()),uiTokenAmount:eo}),Pe=b({err:Dt,fee:p(),innerInstructions:D(I(B(b({index:p(),instructions:B(b({accounts:B(p()),data:w(),programIdIndex:p()}))})))),preBalances:B(p()),postBalances:B(p()),logMessages:D(I(B(w()))),preTokenBalances:D(I(B(fe))),postTokenBalances:D(I(B(fe)))}),lo=b({err:Dt,fee:p(),innerInstructions:D(I(B(b({index:p(),instructions:B(Nr)})))),preBalances:B(p()),postBalances:B(p()),logMessages:D(I(B(w()))),preTokenBalances:D(I(B(fe))),postTokenBalances:D(I(B(fe)))});V(I(b({blockhash:w(),previousBlockhash:w(),parentSlot:p(),transactions:B(b({transaction:Ne,meta:I(Pe)})),rewards:D(B(b({pubkey:w(),lamports:p(),postBalance:I(p()),rewardType:I(w())}))),blockTime:I(p()),blockHeight:I(p())})));V(I(b({blockhash:w(),previousBlockhash:w(),parentSlot:p(),transactions:B(b({transaction:Ne,meta:I(Pe)})),rewards:D(B(b({pubkey:w(),lamports:p(),postBalance:I(p()),rewardType:I(w())}))),blockTime:I(p())})));V(I(b({blockhash:w(),previousBlockhash:w(),parentSlot:p(),signatures:B(w()),blockTime:I(p())})));V(I(b({slot:p(),meta:Pe,blockTime:D(I(p())),transaction:Ne})));V(I(b({slot:p(),transaction:fo,meta:I(lo),blockTime:D(I(p()))})));lt(b({blockhash:w(),feeCalculator:b({lamportsPerSignature:p()})}));lt(b({blockhash:w(),lastValidBlockHeight:p()}));const po=b({slot:p(),numTransactions:p(),numSlots:p(),samplePeriodSecs:p()});V(B(po));lt(I(b({feeCalculator:b({lamportsPerSignature:p()})})));V(w());V(w());const xo=b({err:Dt,logs:B(w()),signature:w()});b({result:de(xo),subscription:p()});U([ht("numSignatures"),ht("padding"),ct("signatureOffset"),ct("signatureInstructionIndex"),ct("publicKeyOffset"),ct("publicKeyInstructionIndex"),ct("messageDataOffset"),ct("messageDataSize"),ct("messageInstructionIndex")]);new P("Ed25519SigVerify111111111111111111111111111");new P("StakeConfig11111111111111111111111111111111");class sr{constructor(r,o,a){this.unixTimestamp=void 0,this.epoch=void 0,this.custodian=void 0,this.unixTimestamp=r,this.epoch=o,this.custodian=a}}sr.default=new sr(0,0,P.default);Object.freeze({Initialize:{index:0,layout:U([T("instruction"),Wi(),ji()])},Authorize:{index:1,layout:U([T("instruction"),M("newAuthorized"),T("stakeAuthorizationType")])},Delegate:{index:2,layout:U([T("instruction")])},Split:{index:3,layout:U([T("instruction"),rt("lamports")])},Withdraw:{index:4,layout:U([T("instruction"),rt("lamports")])},Deactivate:{index:5,layout:U([T("instruction")])},Merge:{index:7,layout:U([T("instruction")])},AuthorizeWithSeed:{index:8,layout:U([T("instruction"),M("newAuthorized"),T("stakeAuthorizationType"),Zt("authoritySeed"),M("authorityOwner")])}});Object.freeze({Staker:{index:0},Withdrawer:{index:1}});new P("Stake11111111111111111111111111111111111111");U([ht("numSignatures"),ct("signatureOffset"),ht("signatureInstructionIndex"),ct("ethAddressOffset"),ht("ethAddressInstructionIndex"),ct("messageDataOffset"),ct("messageDataSize"),ht("messageInstructionIndex"),ce(20,"ethAddress"),ce(64,"signature"),ht("recoveryId")]);new P("KeccakSecp256k11111111111111111111111111111");new P("Va1idator1nfo111111111111111111111111111111");b({name:w(),website:D(w()),details:D(w()),keybaseUsername:D(w())});new P("Vote111111111111111111111111111111111111111");U([M("nodePubkey"),M("authorizedWithdrawer"),ht("commission"),et(),ne(U([et("slot"),T("confirmationCount")]),oe(T(),-8),"votes"),ht("rootSlotValid"),et("rootSlot"),et(),ne(U([et("epoch"),M("authorizedVoter")]),oe(T(),-8),"authorizedVoters"),U([ne(U([M("authorizedPubkey"),et("epochOfLastAuthorizedSwitch"),et("targetEpoch")]),32,"buf"),et("idx"),ht("isEmpty")],"priorVoters"),et(),ne(U([et("epoch"),et("credits"),et("prevCredits")]),oe(T(),-8),"epochCredits"),U([et("slot"),et("timestamp")],"lastTimestamp")]);Object.freeze({InitializeAccount:{index:0,layout:U([T("instruction"),Gi()])},Authorize:{index:1,layout:U([T("instruction"),M("newAuthorized"),T("voteAuthorizationType")])},Withdraw:{index:3,layout:U([T("instruction"),rt("lamports")])}});Object.freeze({Voter:{index:0},Withdrawer:{index:1}});new P("Vote111111111111111111111111111111111111111");var Pt=globalThis&&globalThis.__awaiter||function(n,r,o,a){function u(c){return c instanceof o?c:new o(function(y){y(c)})}return new(o||(o=Promise))(function(c,y){function h(A){try{E(a.next(A))}catch(_){y(_)}}function g(A){try{E(a.throw(A))}catch(_){y(_)}}function E(A){A.done?c(A.value):u(A.value).then(h,g)}E((a=a.apply(n,r||[])).next())})};class _o extends Zr{constructor(r,o){if(super(),this._network=o,this._publicKey=null,this._popup=null,this._handlerAdded=!1,this._nextRequestId=1,this._autoApprove=!1,this._responsePromises=new Map,this.handleMessage=a=>{var u;if(this._injectedProvider&&a.source===window||a.origin===((u=this._providerUrl)===null||u===void 0?void 0:u.origin)&&a.source===this._popup){if(a.data.method==="connected"){const c=new P(a.data.params.publicKey);(!this._publicKey||!this._publicKey.equals(c))&&(this._publicKey&&!this._publicKey.equals(c)&&this.handleDisconnect(),this._publicKey=c,this._autoApprove=!!a.data.params.autoApprove,this.emit("connect",this._publicKey))}else if(a.data.method==="disconnected")this.handleDisconnect();else if(a.data.result||a.data.error){const c=this._responsePromises.get(a.data.id);if(c){const[y,h]=c;a.data.result?y(a.data.result):h(new Error(a.data.error))}}}},this._beforeUnload=()=>{this.disconnect()},bo(r))this._injectedProvider=r;else if(yo(r))this._providerUrl=new URL(r),this._providerUrl.hash=new URLSearchParams({origin:window.location.origin,network:this._network}).toString();else throw new Error("provider parameter must be an injected provider or a URL string.")}handleConnect(){var r;return this._handlerAdded||(this._handlerAdded=!0,window.addEventListener("message",this.handleMessage),window.addEventListener("beforeunload",this._beforeUnload)),this._injectedProvider?new Promise(o=>{this.sendRequest("connect",{}),o()}):(window.name="parent",this._popup=window.open((r=this._providerUrl)===null||r===void 0?void 0:r.toString(),"_blank","location,resizable,width=460,height=675"),new Promise(o=>{this.once("connect",o)}))}handleDisconnect(){this._handlerAdded&&(this._handlerAdded=!1,window.removeEventListener("message",this.handleMessage),window.removeEventListener("beforeunload",this._beforeUnload)),this._publicKey&&(this._publicKey=null,this.emit("disconnect")),this._responsePromises.forEach(([,r],o)=>{this._responsePromises.delete(o),r(new Error("Wallet disconnected"))})}sendRequest(r,o){return Pt(this,void 0,void 0,function*(){if(r!=="connect"&&!this.connected)throw new Error("Wallet not connected");const a=this._nextRequestId;return++this._nextRequestId,new Promise((u,c)=>{var y,h,g,E;this._responsePromises.set(a,[u,c]),this._injectedProvider?this._injectedProvider.postMessage({jsonrpc:"2.0",id:a,method:r,params:Object.assign({network:this._network},o)}):((y=this._popup)===null||y===void 0||y.postMessage({jsonrpc:"2.0",id:a,method:r,params:o},(g=(h=this._providerUrl)===null||h===void 0?void 0:h.origin)!==null&&g!==void 0?g:""),this.autoApprove||(E=this._popup)===null||E===void 0||E.focus())})})}get publicKey(){return this._publicKey}get connected(){return this._publicKey!==null}get autoApprove(){return this._autoApprove}connect(){return Pt(this,void 0,void 0,function*(){this._popup&&this._popup.close(),yield this.handleConnect()})}disconnect(){return Pt(this,void 0,void 0,function*(){this._injectedProvider&&(yield this.sendRequest("disconnect",{})),this._popup&&this._popup.close(),this.handleDisconnect()})}sign(r,o){return Pt(this,void 0,void 0,function*(){if(!(r instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");const a=yield this.sendRequest("sign",{data:r,display:o}),u=kt.decode(a.signature),c=new P(a.publicKey);return{signature:u,publicKey:c}})}signTransaction(r){return Pt(this,void 0,void 0,function*(){const o=yield this.sendRequest("signTransaction",{message:kt.encode(r.serializeMessage())}),a=kt.decode(o.signature),u=new P(o.publicKey);return r.addSignature(u,a),r})}signAllTransactions(r){return Pt(this,void 0,void 0,function*(){const o=yield this.sendRequest("signAllTransactions",{messages:r.map(c=>kt.encode(c.serializeMessage()))}),a=o.signatures.map(c=>kt.decode(c)),u=new P(o.publicKey);return r=r.map((c,y)=>(c.addSignature(u,a[y]),c)),r})}diffieHellman(r){return Pt(this,void 0,void 0,function*(){if(!(r instanceof Uint8Array))throw new Error("Data must be an instance of Uint8Array");return yield this.sendRequest("diffieHellman",{publicKey:r})})}}function yo(n){return typeof n=="string"}function bo(n){return mo(n)&&"postMessage"in n&&typeof n.postMessage=="function"}function mo(n){return typeof n=="object"&&n!==null}export{_o as default};
